<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle</title>
</head>

<body>
    <form action="/index" method="POST">
        <select name="type" id="tipo" autofocus onclick = mostrar_entradas()>
            <option disabled selected>Selecionar método*</option>
            <option value="list">Consultar Itens</option>
            <option value="change">Alterar Itens</option>
            <option value="add">Adicionar Itens</option>
            <option value="remove">Remover Itens</option>
            <option value="new">Nova Categoria</option>
        </select>
        <input type="number" name="id" id="local" placeholder="Código de estoque" disabled>
        <input type="text" name="serial" placeholder="Serial Number" disabled>
        <input type="text" name="modelo" placeholder="Modelo do produto" disabled>
        <input type="number" name="quantidade" placeholder="Quantidade" disabled>
        <input type="text" name="defeito" placeholder="Defeito" disabled>

        <button type="submit">Enviar</button>
    </form>
    <script>
        function mostrar_entradas(){
            
            let tipo = document.getElementsByTagName("option")
            for (let i = 0; i < tipo.length; i++){
                if (tipo[i].selected == true){
                    var name = tipo[i].value
                }
            }
            var inputs = document.getElementsByTagName("input")
            console.log(name)
            switch(name){
                case "list":
                    for (i in inputs){
                        inputs[i].disabled = false
                        inputs[i].style.backgroundColor = "#c2f6d1"
                        inputs[i].style.display = "inline-block"
                    }
                    break
                case "change":
                    for(i in inputs){
                        inputs[i].style.display = "inline-block"
                        if(inputs[i].name == "id"){
                            inputs[i].style.backgroundColor = "#f5c1c1"                            
                        }
                        inputs[i].disabled = false            
                    }
                    break
                case "add":
                case "remove":
                for(i in inputs){
                    inputs[i].disabled = false
                    inputs[i].style.display = "inline-block"
                    if (["serial", "quantidade"].includes(inputs[i].name)){
                        inputs[i].style.backgroundColor = "#f5c1c1"
                    }
                    else{
                        inputs[i].style.display = "none"
                    }
                }
                case "new":
                for(i in inputs){
                    inputs[i].disabled = false
                    inputs[i].style.display = "inline-block"
                    inputs[i].style.backgroundColor = "#f5c1c1"
                    if(inputs[i].name == "id"){
                        inputs[i].style.display = "none"                           
                    }
                }
            }
        }
    </script>
</body>

</html>